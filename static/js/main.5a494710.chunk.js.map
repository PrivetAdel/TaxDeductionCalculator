{"version":3,"sources":["components/Popup/Payment.js","components/Popup/Choice.js","components/Popup/close.svg","components/Popup/index.js","components/Popup/Popup.js","components/App/index.js","components/App/App.js","index.js"],"names":["inAYear","num","Payment","payments","value","paymentItems","maxPay","paymentAYear","Math","floor","push","items","remainder","i","paymentСalculation","map","item","String","replace","className","index","id","type","defaultChecked","htmlFor","tabIndex","Choice","name","Popup","showPopup","useState","valueSalary","setValueSalary","isCalculate","setCalculate","isEmpty","setEmpty","isMinLengthError","setMinLengthError","borderColor","setBorderColor","onClick","src","close","alt","inputMode","placeholder","autoComplete","onChange","evt","addRub","target","style","autoFocus","required","preventDefault","length","renderPayments","App","isOpen","setIsOpen","s","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a494710.chunk.js","sourcesContent":[" import React from 'react';\r\n\r\n const inAYear = (num) => {\r\n  switch(true) {\r\n    case (num % 10 === 2 && num < 10):\r\n      return `во ${num}-ой год`;\r\n    case (num % 10 === 3 && (num < 10 || num > 20)):\r\n      return `в ${num}-ий год`;\r\n    case (num % 10 === 6 && (num < 10 || num > 20)):\r\n      return `в ${num}-ой год`;\r\n    case (num % 10 === 7 && (num < 10 || num > 20)):\r\n      return `в ${num}-ой год`;\r\n    case (num % 10 === 8 && (num < 10 || num > 20)):\r\n      return `в ${num}-ой год`;\r\n    case (num % 10 === 2 && num > 20):\r\n      return `в ${num}-ой год`;\r\n    default:\r\n      return `в ${num}-ый год`;\r\n  }\r\n};\r\n\r\nconst Payment = ({value}) => {\r\n  const paymentСalculation = (value) => {\r\n    const paymentItems = [];\r\n    const maxPay = 260000;\r\n    const paymentAYear = Math.floor((value * 12) * 0.13);\r\n\r\n    if (paymentAYear >= maxPay) {\r\n      paymentItems.push(maxPay);\r\n    } else {\r\n      const items = Math.floor(maxPay / paymentAYear);\r\n      const remainder = maxPay % paymentAYear;\r\n      let i = 0;\r\n\r\n      while (i < items) {\r\n        paymentItems.push(paymentAYear);\r\n        i++;\r\n      };\r\n\r\n      paymentItems.push(remainder);\r\n    }\r\n\r\n    return paymentItems;\r\n  };\r\n\r\n  const payments = paymentСalculation(value).map((item) => {\r\n    return String(item)\r\n      .replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, '$& ');\r\n    }\r\n  );\r\n\r\n  return (\r\n    <fieldset className=\"popup__fieldset payment\">\r\n      <span className=\"payment__title\">Итого можете внести в&nbsp;качестве досрочных:</span>\r\n      <ul className=\"payment__list\">\r\n        {payments.map((item, index) => (\r\n          <li key={index} className=\"payment__item\">\r\n            <input\r\n              id={index}\r\n              type=\"checkbox\"\r\n              className=\"payment__checkbox visually-hidden\"\r\n              defaultChecked />\r\n            <label\r\n              htmlFor={index}\r\n              className=\"payment__label\"\r\n              tabIndex={index + 1}>\r\n              <span>{item} рублей</span>\r\n              &nbsp;\r\n              <span className=\"payment__period\">\r\n                {inAYear(index + 1)}\r\n              </span>\r\n            </label>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n","import React from 'react';\r\n\r\nconst Choice = () => {\r\n  return (\r\n    <fieldset className=\"popup__fieldset choice\">\r\n      <span className=\"choice__title\">Что уменьшаем?</span>\r\n      <div className=\"choice__wrapper\">\r\n        <input\r\n          type=\"radio\"\r\n          name=\"choice-radio\"\r\n          className=\"choice__radio visually-hidden\"\r\n          id=\"payment\"\r\n          defaultChecked />\r\n        <label\r\n          className=\"choice__label\"\r\n          htmlFor=\"payment\"\r\n          tabIndex=\"6\">\r\n          Платёж\r\n        </label>\r\n\r\n        <input\r\n          type=\"radio\"\r\n          name=\"choice-radio\"\r\n          className=\"choice__radio visually-hidden\"\r\n          id=\"date\" />\r\n        <label\r\n          className=\"choice__label\"\r\n          htmlFor=\"date\"\r\n          tabIndex=\"7\">\r\n          Срок\r\n        </label>\r\n      </div>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nexport default Choice;\r\n","export default __webpack_public_path__ + \"static/media/close.a3644d3d.svg\";","import Popup from './Popup';\r\n\r\nexport default Popup;\r\n","import React, {useState} from 'react';\r\nimport Payment from './Payment';\r\nimport Choice from './Choice';\r\nimport close from './close.svg';\r\nimport './Popup.css';\r\n\r\nconst addSpace = (value) => {\r\n  return value\r\n            .replace(/\\s+|[^\\d]/g, '')\r\n            .replace(/(\\d{1,3})(?=((\\d{3})*)$)/g, ' $1')\r\n            .replace(/^\\s/g, '')\r\n};\r\n\r\nconst addRub = (value) => {\r\n  if (!value) {\r\n    return value.replace(/ ₽/g, '');\r\n  }\r\n\r\n  return (value + ' ₽').replace(/[^\\d ₽]| ₽(?!$)/g, '');\r\n};\r\n\r\nconst сleanAValue = (value) => {\r\n  return value.replace(/\\D/g, '');\r\n};\r\n\r\nconst Popup = ({showPopup}) => {\r\n  const [valueSalary, setValueSalary] = useState('');\r\n  const [isCalculate, setCalculate] = useState(false);\r\n  const [isEmpty, setEmpty] = useState(false);\r\n  const [isMinLengthError, setMinLengthError] = useState(false);\r\n  const [borderColor, setBorderColor] = useState('#DFE3E6');\r\n\r\n  const сhangeSalary = (evt) => {\r\n    setValueSalary(addRub(addSpace(evt.target.value)));\r\n    setCalculate(false);\r\n    setEmpty(false);\r\n    setMinLengthError(false);\r\n    setBorderColor('#DFE3E6');\r\n  };\r\n\r\n  const calculateSumPay = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    (valueSalary.length >= 6) ? setCalculate(true) : setCalculate(false);\r\n    valueSalary ? setEmpty(false) : setEmpty(true);\r\n    (valueSalary.length >= 6) ? setMinLengthError(false) : setMinLengthError(true);\r\n    (valueSalary.length >= 6) ? setBorderColor('#DFE3E6') : setBorderColor('#EA0029');\r\n  };\r\n\r\n  const submitForm = (evt) => {\r\n    evt.preventDefault();\r\n  };\r\n\r\n  const renderPayments = () =>{\r\n    return <Payment value={сleanAValue(valueSalary)} />\r\n  };\r\n\r\n  const showErrorEmpty = () => {\r\n    return <p className=\"salary__error--text\">Поле обязательно для заполнения</p>\r\n  };\r\n\r\n  const showErrorMin = () => {\r\n    return <p className=\"salary__error--text\">Минимальная сумма для рассчета 1 000 ₽</p>\r\n  };\r\n\r\n  return (\r\n    <div className=\"overlay\">\r\n      <section className=\"popup\">\r\n        <div className=\"popup__header\">\r\n          <h2 className=\"popup__title\">Налоговый вычет</h2>\r\n          <button\r\n            className=\"btn popup__btn-close\"\r\n            onClick={showPopup}>\r\n            <img src={close} alt=\"close\" />\r\n          </button>\r\n        </div>\r\n\r\n        <p className=\"popup__description\">Используйте налоговый вычет чтобы погасить ипотеку досрочно. Размер налогового вычета составляет не&nbsp;более&nbsp;13% от своего официального годового дохода.</p>\r\n\r\n        <form className=\"popup__form\">\r\n          <fieldset className=\"popup__fieldset salary\">\r\n            <label\r\n              className=\"salary__label\"\r\n              htmlFor=\"salary\">\r\n              Ваша зарплата в месяц\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              inputMode=\"numeric\"\r\n              id=\"salary\"\r\n              className=\"salary__input\"\r\n              placeholder=\"Введите данные\"\r\n              autoComplete=\"off\"\r\n              value={valueSalary}\r\n              onChange={сhangeSalary}\r\n              style={{borderColor: borderColor}}\r\n              autoFocus\r\n              required />\r\n            {isEmpty ? showErrorEmpty() : null}\r\n            {(isMinLengthError && !isEmpty) ? showErrorMin() : null}\r\n            <button\r\n              className=\"btn salary__btn-calculate\"\r\n              onClick={calculateSumPay}>\r\n              Рассчитать\r\n            </button>\r\n          </fieldset>\r\n\r\n          {isCalculate ? renderPayments() : null}\r\n          <Choice />\r\n\r\n          <button\r\n            className=\"btn popup__btn-add\"\r\n            onClick={submitForm}\r\n            type=\"submit\">\r\n            Добавить\r\n          </button>\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;\r\n","import App from './App';\r\n\r\nexport default App;\r\n","import React, {useState} from 'react';\r\nimport Popup from '../Popup';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const showPopup = () => {\r\n    setIsOpen((s) => !s)\r\n  }\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <button\r\n        className=\"btn main__btn\"\r\n        onClick={showPopup}>\r\n        Налоговый вычет\r\n      </button>\r\n      {isOpen ? <Popup showPopup={showPopup}/> : null}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './normalize.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}