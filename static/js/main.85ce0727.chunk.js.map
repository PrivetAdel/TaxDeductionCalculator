{"version":3,"sources":["components/popup/payment.js","components/popup/choice.js","components/popup/close.svg","components/popup/popup.js","components/popup/index.js","components/app/index.js","components/app/app.js","index.js"],"names":["Payment","inAYear","num","payments","value","paymentItems","maxPay","paymentAYear","Math","floor","push","items","remainder","i","paymentСalculation","map","item","String","replace","className","index","id","type","defaultChecked","htmlFor","tabIndex","Choice","name","Popup","showPopup","useState","valueSalary","setValueSalary","isCalculate","setCalculate","isEmpty","setEmpty","isMinLengthError","setMinLengthError","borderColor","setBorderColor","onClick","src","close","alt","inputMode","placeholder","autoComplete","onChange","evt","addRub","target","style","autoFocus","required","preventDefault","length","renderPayments","App","isOpen","setIsOpen","s","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85ce0727.chunk.js","sourcesContent":[" import React from 'react';\r\n\r\nconst Payment = ({value}) => {\r\n\r\n  function paymentСalculation(value) {\r\n    const paymentItems = [];\r\n    const maxPay = 260000;\r\n    const paymentAYear = Math.floor((value * 12) * 0.13);\r\n\r\n    if (paymentAYear >= maxPay) {\r\n      paymentItems.push(maxPay);\r\n    } else {\r\n      const items = Math.floor(maxPay / paymentAYear);\r\n      const remainder = maxPay % paymentAYear;\r\n      let i = 0;\r\n\r\n      while (i < items) {\r\n        paymentItems.push(paymentAYear);\r\n        i++;\r\n      };\r\n\r\n      paymentItems.push(remainder);\r\n    }\r\n\r\n    return paymentItems;\r\n  };\r\n\r\n  function inAYear(num) {\r\n    switch(true) {\r\n      case (num % 10 === 2 && num < 10):\r\n        return `во ${num}-ой год`;\r\n      case (num % 10 === 3 && (num < 10 || num > 20)):\r\n        return `в ${num}-ий год`;\r\n      case (num % 10 === 6 && (num < 10 || num > 20)):\r\n        return `в ${num}-ой год`;\r\n      case (num % 10 === 7 && (num < 10 || num > 20)):\r\n        return `в ${num}-ой год`;\r\n      case (num % 10 === 8 && (num < 10 || num > 20)):\r\n        return `в ${num}-ой год`;\r\n      case (num % 10 === 2 && num > 20):\r\n        return `в ${num}-ой год`;\r\n      default:\r\n        return `в ${num}-ый год`;\r\n    }\r\n  };\r\n\r\n  const payments = paymentСalculation(value).map((item) => {\r\n    return String(item)\r\n      .replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, '$& ');\r\n    }\r\n  );\r\n\r\n  return (\r\n    <fieldset className=\"popup-fieldset payment\">\r\n      <span className=\"payment-title\">Итого можете внести в&nbsp;качестве досрочных:</span>\r\n      <ul className=\"payment-list\">\r\n        {payments.map((item, index) => (\r\n          <li key={index} className=\"payment-item\">\r\n            <input\r\n              id={index}\r\n              type=\"checkbox\"\r\n              className=\"payment-checkbox visually-hidden\"\r\n              defaultChecked />\r\n            <label\r\n              htmlFor={index}\r\n              className=\"payment-label\"\r\n              tabIndex={index + 1}>\r\n              <span>{item} рублей</span>\r\n              &nbsp;\r\n              <span className=\"payment-period\">\r\n                {inAYear(index + 1)}\r\n              </span>\r\n            </label>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n","import React from 'react';\r\n\r\nconst Choice = () => {\r\n  return (\r\n    <fieldset className=\"popup-fieldset choice\">\r\n      <span className=\"choice-title\">Что уменьшаем?</span>\r\n      <div className=\"choice-wrapper\">\r\n        <input\r\n          type=\"radio\"\r\n          name=\"choice-radio\"\r\n          className=\"choice-radio visually-hidden\"\r\n          id=\"payment\"\r\n          defaultChecked />\r\n        <label\r\n          className=\"choice-label\"\r\n          htmlFor=\"payment\"\r\n          tabIndex=\"6\">\r\n          Платёж\r\n        </label>\r\n\r\n        <input\r\n          type=\"radio\"\r\n          name=\"choice-radio\"\r\n          className=\"choice-radio visually-hidden\"\r\n          id=\"date\" />\r\n        <label\r\n          className=\"choice-label\"\r\n          htmlFor=\"date\"\r\n          tabIndex=\"7\">\r\n          Срок\r\n        </label>\r\n      </div>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nexport default Choice;\r\n","export default __webpack_public_path__ + \"static/media/close.075fa808.svg\";","import React, {useState} from 'react';\r\nimport Payment from './payment';\r\nimport Choice from './choice';\r\nimport close from './close.svg';\r\nimport './popup.css';\r\n\r\nfunction addSpace(value) {\r\n  return value\r\n            .replace(/\\s+|[^\\d]/g, '')\r\n            .replace(/(\\d{1,3})(?=((\\d{3})*)$)/g, ' $1')\r\n            .replace(/^\\s/g, '')\r\n};\r\n\r\nfunction addRub(value) {\r\n  if (!value) {\r\n    return value.replace(/ ₽/g, '');\r\n  }\r\n\r\n  return (value + ' ₽').replace(/[^\\d ₽]| ₽(?!$)/g, '');\r\n};\r\n\r\nfunction сleanAValue(value) {\r\n  return value.replace(/\\D/g, '');\r\n};\r\n\r\nconst Popup = ({showPopup}) => {\r\n  const [valueSalary, setValueSalary] = useState('');\r\n  const [isCalculate, setCalculate] = useState(false);\r\n  const [isEmpty, setEmpty] = useState(false);\r\n  const [isMinLengthError, setMinLengthError] = useState(false);\r\n  const [borderColor, setBorderColor] = useState('#DFE3E6');\r\n\r\n  function сhangeSalary(evt) {\r\n    setValueSalary(addRub(addSpace(evt.target.value)));\r\n    setCalculate(false);\r\n    setEmpty(false);\r\n    setMinLengthError(false);\r\n    setBorderColor('#DFE3E6');\r\n  };\r\n\r\n  function calculateSumPay(evt) {\r\n    evt.preventDefault();\r\n\r\n    (valueSalary.length >= 6) ? setCalculate(true) : setCalculate(false);\r\n    valueSalary ? setEmpty(false) : setEmpty(true);\r\n    (valueSalary.length >= 6) ? setMinLengthError(false) : setMinLengthError(true);\r\n    (valueSalary.length >= 6) ? setBorderColor('#DFE3E6') : setBorderColor('#EA0029');\r\n  };\r\n\r\n  function submitForm(evt) {\r\n    evt.preventDefault();\r\n  };\r\n\r\n  function renderPayments() {\r\n    return <Payment value={сleanAValue(valueSalary)} />\r\n  };\r\n\r\n  function showErrorEmpty() {\r\n    return <p className=\"salary-error\">Поле обязательно для заполнения</p>\r\n  };\r\n\r\n  function showErrorMin() {\r\n    return <p className=\"salary-error\">Минимальная сумма для рассчета 1 000 ₽</p>\r\n  };\r\n\r\n  return (\r\n    <div className=\"overlay\">\r\n      <section className=\"popup\">\r\n        <div className=\"popup-header\">\r\n          <h2 className=\"popup-title\">Налоговый вычет</h2>\r\n          <button\r\n            className=\"btn btn-popup-close\"\r\n            onClick={showPopup}>\r\n            <img src={close} alt=\"close\" />\r\n          </button>\r\n        </div>\r\n\r\n        <p className=\"popup-description\">Используйте налоговый вычет чтобы погасить ипотеку досрочно. Размер налогового вычета составляет не&nbsp;более&nbsp;13% от своего официального годового дохода.</p>\r\n\r\n        <form className=\"popup-form\">\r\n          <fieldset className=\"popup-fieldset salary\">\r\n            <label\r\n              className=\"salary-label\"\r\n              htmlFor=\"salary\">\r\n              Ваша зарплата в месяц\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              inputMode=\"numeric\"\r\n              id=\"salary\"\r\n              className=\"salary-input\"\r\n              placeholder=\"Введите данные\"\r\n              autoComplete=\"off\"\r\n              value={valueSalary}\r\n              onChange={сhangeSalary}\r\n              style={{borderColor: borderColor}}\r\n              autoFocus\r\n              required />\r\n            {isEmpty ? showErrorEmpty() : null}\r\n            {(isMinLengthError && !isEmpty) ? showErrorMin() : null}\r\n            <button\r\n              className=\"btn btn-calculate-salary\"\r\n              onClick={calculateSumPay}>\r\n              Рассчитать\r\n            </button>\r\n          </fieldset>\r\n\r\n          {isCalculate ? renderPayments() : null}\r\n          <Choice />\r\n\r\n          <button\r\n            className=\"btn btn-add\"\r\n            onClick={submitForm}\r\n            type=\"submit\">\r\n            Добавить\r\n          </button>\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;\r\n","import Popup from './popup';\r\n\r\nexport default Popup;\r\n","import App from './app';\r\n\r\nexport default App;\r\n","import React, {useState} from 'react';\r\nimport Popup from '../popup';\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  function showPopup() {\r\n    setIsOpen((s) => !s)\r\n  }\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <button\r\n        className=\"btn btn-main\"\r\n        onClick={showPopup}>\r\n        Налоговый вычет\r\n      </button>\r\n      {isOpen ? <Popup showPopup={showPopup}/> : null}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\nimport './normalize.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}